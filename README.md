# TODO App

## Demo

[Running Demo](https://mjanatzek.github.io/SapphireDb-TodoClient/demo/)

[Demo Monitor](https://mjanatzek.github.io/SapphireDb-TodoClient/monitor/)

## Start developing

[Open in Gitpod](https://gitpod.io/#https://github.com/mjanatzek/SapphireDb-TodoClient)

or

Clone, open in IDE and run

````
npm install
npm start
````

## Useful links

[SapphireDb Documentation](https://sapphire-db.com/start/main)

[UI Framework Documentation (ng-metro4)](https://morrisjdev.github.io/ng-metro4/#/)

[UI Framework Documentation (Metro4)](https://metroui.org.ua/)

[Server Source Code](https://github.com/mjanatzek/SapphireDb-TodoServer)

## Tasks

The application currently has a user manager and login functionality.

Your task is to extend the existing application and add functionality for creating and managing todo items.

The challenge is to be first one assigning a task to another person/team.

### 1. Create todo items list

The component `todo/list` should contain a list of all todo items.

You should get a list of all todo items from the server and display it.
The todo collection is named `todoItems`.
The user collection is named `users`.

To make navigation easier it would be helpful to add a button or link to the page `/todo/add`.

> Tip: You can use this code to map a user id to the user object:
> ````html
> <ng-container *ngIf="todoItem.assignedToId | mapUser | async as user">
>   Assigned to <b>{{ user.username }}</b><br>
> </ng-container>
> ````
 
> Tip: You can use the type `TodoItem`

### 2. Create todo items form

The component `todo/add` should contain a form to create and assign a todo item.

Create this form.

The todo item object looks like this:

````typescript
export interface TodoItem {
    // Generated by server
    id?: string;
    
    // Required
    title: string;

    // Optional
    description?: string;

    // Required
    assignedToId: string;

    // Required
    dueDate: Date;
    
    // Optional/Filled by server
    progress?: number;

    // Filled by server
    ownerId?: string;
}
````

> Tip: If a todo item is not valid and therefor not stored on server side you can inspect the object returned by the method `.add()`. 

> Tip: You can use `m4-input` as a text field

> Tip: To assign a todo item to a user you could fetch a list of users from the server and use the control
> `m4-select` to display and select a user.

> Tip: To create a clean form you could use Angular reactive forms

### 3. Allow update of progress

The progress of a todo item is only updatable by the user assigned to the todo item.

If the current user is the assigned user of a todo item, you could display controls to edit the progress.

> Tip: The current user is stored in `UserService`.

### 4. Additional task - Display progress bar(s)

A todo item could contain a progress bar to display the current progress.

If the progress is editable by the current user you could replace that progress bar with a slider.

You can also add a progress bar on top of the page.
This progress bar could contain the total progress.

