(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"7UCR":function(e,t,s){"use strict";s.r(t),s.d(t,"UserModule",(function(){return h}));var n=s("ofXK"),c=s("tyNb"),i=s("fXoL"),r=s("vjhR"),o=s("CcaC"),b=s("N2Qi");function u(e,t){if(1&e){const e=i.Qb();i.Pb(0,"div",2),i.Pb(1,"span",5),i.sc(2),i.Ob(),i.Pb(3,"button",6),i.Xb("click",(function(){i.jc(e);const s=t.$implicit;return i.Zb().login(s)})),i.sc(4,"Select"),i.Ob(),i.Pb(5,"button",7),i.sc(6,"Edit"),i.Ob(),i.Ob()}if(2&e){const e=t.$implicit;i.zb(2),i.tc(e.username),i.zb(3),i.fc("routerLink","../edit/"+e.id)}}let l=(()=>{class e{constructor(e,t){this.db=e,this.userService=t,this.users$=this.db.collection("users").values()}ngOnInit(){}login(e){this.userService.login(e)}}return e.\u0275fac=function(t){return new(t||e)(i.Jb(r.c),i.Jb(o.a))},e.\u0275cmp=i.Db({type:e,selectors:[["app-select"]],decls:9,vars:3,consts:[[1,"row"],["class","cell-12",4,"ngFor","ngForOf"],[1,"cell-12"],["m4-button","","btn-style","success","routerLink","../add"],[1,"mif-plus"],[1,"mr-2"],["m4-button","","btn-style","success",3,"click"],["m4-button","","btn-style","info",1,"ml-2",3,"routerLink"]],template:function(e,t){1&e&&(i.Pb(0,"h1"),i.sc(1,"Select user"),i.Ob(),i.Pb(2,"div",0),i.qc(3,u,7,2,"div",1),i.ac(4,"async"),i.Pb(5,"div",2),i.Pb(6,"button",3),i.Kb(7,"span",4),i.sc(8," Add user"),i.Ob(),i.Ob(),i.Ob()),2&e&&(i.zb(3),i.fc("ngForOf",i.bc(4,1,t.users$)))},directives:[n.k,b.a,c.c],pipes:[n.b],styles:[""]}),e})();var a=s("3Pt+"),d=s("IzEk");let p=(()=>{class e{constructor(e,t,s){this.db=e,this.route=t,this.router=s,this.userCollection=this.db.collection("users"),this.form=new a.e({id:new a.b,username:new a.b(null,[a.n.required])}),this.route.params.pipe(Object(d.a)(1)).subscribe(e=>{e.id&&this.userCollection.where(["id","==",e.id]).first().snapshot().pipe(Object(d.a)(1)).subscribe(e=>{this.form.patchValue(e)})})}save(){const e=this.form.value;let t;t=e.id?this.userCollection.update(e):this.userCollection.add({username:e.username}),t.subscribe(e=>{const t=e.results[0].validationResults;if(t){const e=Object.keys(t).map(e=>[e,t[e]]).map(([e,t])=>`${e}: ${t.join(",")}`).join(",\n");alert(e)}else this.router.navigateByUrl("/user/select")})}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(i.Jb(r.c),i.Jb(c.a),i.Jb(c.b))},e.\u0275cmp=i.Db({type:e,selectors:[["app-add-edit"]],decls:8,vars:4,consts:[[1,"row",3,"formGroup"],[1,"cell-12"],["prepend","Username","formControlName","username"],["m4-button","","btn-style","success",3,"disabled","click"]],template:function(e,t){1&e&&(i.Pb(0,"h1"),i.sc(1),i.Ob(),i.Pb(2,"div",0),i.Pb(3,"div",1),i.Kb(4,"m4-input",2),i.Ob(),i.Pb(5,"div",1),i.Pb(6,"button",3),i.Xb("click",(function(){return t.save()})),i.sc(7),i.Ob(),i.Ob(),i.Ob()),2&e&&(i.zb(1),i.uc("",t.form.get("id").value?"Edit":"Add"," user"),i.zb(1),i.fc("formGroup",t.form),i.zb(4),i.fc("disabled",t.form.invalid||t.form.pristine),i.zb(1),i.tc(t.form.get("id").value?"Update":"Create"))},directives:[a.j,a.f,b.c,a.i,a.d,b.a],styles:[""]}),e})();const f=[{path:"add",component:p},{path:"edit/:id",component:p},{path:"select",component:l},{path:"**",redirectTo:"select",pathMatch:"full"}];let m=(()=>{class e{}return e.\u0275mod=i.Hb({type:e}),e.\u0275inj=i.Gb({factory:function(t){return new(t||e)},imports:[[c.e.forChild(f)],c.e]}),e})(),h=(()=>{class e{}return e.\u0275mod=i.Hb({type:e}),e.\u0275inj=i.Gb({factory:function(t){return new(t||e)},imports:[[n.c,m,b.d,a.g,a.m]]}),e})()}}]);