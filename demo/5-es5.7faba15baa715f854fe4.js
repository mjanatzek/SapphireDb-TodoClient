function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(s){i=!0,o=s}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{lCCV:function(e,t,n){"use strict";n.r(t),n.d(t,"TodoModule",(function(){return A}));var r,i=n("ofXK"),o=n("tyNb"),c=n("fXoL"),a=n("vjhR"),s=n("CcaC"),l=n("N2Qi"),b=n("3Pt+"),u=n("lJxs"),d=((r=function(){function e(t){_classCallCheck(this,e),this.db=t,e.users$||(e.users$=this.db.collection("users").values())}return _createClass(e,[{key:"transform",value:function(t){return e.users$.pipe(Object(u.a)((function(e){return e.find((function(e){return e.id===t}))})))}}]),e}()).\u0275fac=function(e){return new(e||r)(c.Jb(a.c))},r.\u0275pipe=c.Ib({name:"mapUser",type:r,pure:!0}),r);function f(e,t){if(1&e&&(c.Nb(0),c.sc(1," Assigned to "),c.Pb(2,"b"),c.sc(3),c.Ob(),c.Kb(4,"br"),c.Mb()),2&e){var n=t.ngIf;c.zb(3),c.tc(n.username)}}function p(e,t){if(1&e){var n=c.Qb();c.Nb(0),c.Pb(1,"m4-slider",14),c.Xb("ngModelChange",(function(e){return c.jc(n),c.Zb(2).$implicit.progress=e}))("ngModelChange",(function(){c.jc(n);var e=c.Zb(2).$implicit;return c.Zb().updateTodoItem(e)})),c.Ob(),c.Mb()}if(2&e){var r=c.Zb(2).$implicit;c.zb(1),c.fc("ngModel",r.progress)("max",100)("min",0)}}function m(e,t){if(1&e&&(c.Pb(0,"div",15),c.Kb(1,"m4-progress",16),c.Ob()),2&e){var n=c.Zb(2).$implicit;c.zb(1),c.fc("value",n.progress)}}function v(e,t){if(1&e&&(c.Nb(0),c.qc(1,p,2,3,"ng-container",12),c.qc(2,m,2,1,"ng-template",null,13,c.rc),c.Mb()),2&e){var n=t.ngIf,r=c.ic(3),i=c.Zb().$implicit;c.zb(1),c.fc("ngIf",i.assignedToId===n.id)("ngIfElse",r)}}function y(e,t){if(1&e&&(c.Pb(0,"div",5),c.Pb(1,"div",6),c.Pb(2,"div",7),c.sc(3),c.Ob(),c.Pb(4,"div",8),c.Pb(5,"p"),c.sc(6),c.Kb(7,"br"),c.sc(8),c.ac(9,"date"),c.Kb(10,"br"),c.qc(11,f,5,1,"ng-container",9),c.ac(12,"async"),c.ac(13,"mapUser"),c.Ob(),c.Ob(),c.Pb(14,"div",10),c.Pb(15,"div",11),c.Pb(16,"div",2),c.sc(17," Progress "),c.qc(18,v,4,2,"ng-container",9),c.ac(19,"async"),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob()),2&e){var n=t.$implicit,r=c.Zb();c.zb(3),c.tc(n.title),c.zb(3),c.uc(" Description: ",n.description,""),c.zb(2),c.uc(" Due date: ",c.bc(9,5,n.dueDate),""),c.zb(3),c.fc("ngIf",c.bc(12,7,c.bc(13,9,n.assignedToId))),c.zb(7),c.fc("ngIf",c.bc(19,11,r.userService.currentUser$))}}var g,h=((g=function(){function e(t,n){_classCallCheck(this,e),this.db=t,this.userService=n,this.todoCollection=this.db.collection("todoItems"),this.todoItems$=this.todoCollection.values()}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"updateTodoItem",value:function(e){this.todoCollection.update(e)}}]),e}()).\u0275fac=function(e){return new(e||g)(c.Jb(a.c),c.Jb(s.a))},g.\u0275cmp=c.Db({type:g,selectors:[["app-list"]],decls:9,vars:3,consts:[[1,"row"],["class","cell-md-3",4,"ngFor","ngForOf"],[1,"cell-12"],["m4-button","","btn-style","success","routerLink","../add"],[1,"mif-plus"],[1,"cell-md-3"],[1,"card"],[1,"card-header","text-bold","bg-blue","fg-white"],[1,"card-content","p-2"],[4,"ngIf"],[1,"card-footer"],[1,"row","w-100"],[4,"ngIf","ngIfElse"],["noEditPossible",""],[3,"ngModel","max","min","ngModelChange"],[1,"mt-3","mb-3"],[3,"value"]],template:function(e,t){1&e&&(c.Pb(0,"h1"),c.sc(1,"Todo items"),c.Ob(),c.Pb(2,"div",0),c.qc(3,y,20,13,"div",1),c.ac(4,"async"),c.Pb(5,"div",2),c.Pb(6,"button",3),c.Kb(7,"span",4),c.sc(8," Add todo item"),c.Ob(),c.Ob(),c.Ob()),2&e&&(c.zb(3),c.fc("ngForOf",c.bc(4,1,t.todoItems$)))},directives:[i.k,l.a,o.c,i.l,l.g,b.i,b.k,l.e],pipes:[i.b,i.e,d],styles:[""]}),g),O=n("wd/R");function C(e,t){if(1&e&&(c.Pb(0,"option",10),c.sc(1),c.Ob()),2&e){var n=t.$implicit;c.fc("value",n.id),c.zb(1),c.tc(n.username)}}function I(e,t){if(1&e&&(c.Pb(0,"m4-select",8),c.qc(1,C,2,2,"option",9),c.Ob()),2&e){var n=t.ngIf;c.zb(1),c.fc("ngForOf",n)}}var P,w,_,k=[{path:"list",component:h},{path:"add",component:(P=function(){function e(t,n){_classCallCheck(this,e),this.db=t,this.router=n,this.form=new b.e({title:new b.b(void 0,[b.n.required]),description:new b.b(void 0),assignedToId:new b.b(void 0,[b.n.required]),dueDate:new b.b(O(),[b.n.required])}),this.users$=this.db.collection("users").values()}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"save",value:function(){var e=this,t=this.form.value;this.db.collection("todoItems").add(t).subscribe((function(t){if(t.results[0].error)alert("Error");else{var n=t.results[0].validationResults;if(n){var r=Object.keys(n).map((function(e){return[e,n[e]]})).map((function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1];return"".concat(n,": ").concat(r.join(","))})).join(",\n");alert(r)}else e.router.navigateByUrl("/todo/list")}}))}}]),e}(),P.\u0275fac=function(e){return new(e||P)(c.Jb(a.c),c.Jb(o.b))},P.\u0275cmp=c.Db({type:P,selectors:[["app-add"]],decls:15,vars:5,consts:[[1,"row",3,"formGroup"],[1,"cell-12","pb-2"],["prepend","Title","formControlName","title"],["prepend","Description","formControlName","description"],["prepend","Assigned to","formControlName","assignedToId",4,"ngIf"],["formControlName","dueDate"],[1,"cell-12"],["m4-button","","btn-style","success",3,"disabled","click"],["prepend","Assigned to","formControlName","assignedToId"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(c.Pb(0,"h1"),c.sc(1,"Add todo item"),c.Ob(),c.Pb(2,"div",0),c.Pb(3,"div",1),c.Kb(4,"m4-input",2),c.Ob(),c.Pb(5,"div",1),c.Kb(6,"m4-textarea",3),c.Ob(),c.Pb(7,"div",1),c.qc(8,I,2,1,"m4-select",4),c.ac(9,"async"),c.Ob(),c.Pb(10,"div",1),c.Kb(11,"m4-date-picker",5),c.Ob(),c.Pb(12,"div",6),c.Pb(13,"button",7),c.Xb("click",(function(){return t.save()})),c.sc(14,"Create"),c.Ob(),c.Ob(),c.Ob()),2&e&&(c.zb(2),c.fc("formGroup",t.form),c.zb(6),c.fc("ngIf",c.bc(9,3,t.users$)),c.zb(5),c.fc("disabled",t.form.invalid||t.form.pristine))},directives:[b.j,b.f,l.c,b.i,b.d,l.h,i.l,l.b,l.a,l.f,i.k,b.l,b.o],pipes:[i.b],styles:[""]}),P)},{path:"**",pathMatch:"full",redirectTo:"list"}],T=((_=function e(){_classCallCheck(this,e)}).\u0275mod=c.Hb({type:_}),_.\u0275inj=c.Gb({factory:function(e){return new(e||_)},imports:[[o.e.forChild(k)],o.e]}),_),A=((w=function e(){_classCallCheck(this,e)}).\u0275mod=c.Hb({type:w}),w.\u0275inj=c.Gb({factory:function(e){return new(e||w)},imports:[[i.c,T,l.d]]}),w)}}]);