(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{lCCV:function(e,t,n){"use strict";n.r(t),n.d(t,"TodoModule",(function(){return y}));var o=n("ofXK"),i=n("tyNb"),s=n("fXoL"),c=n("vjhR"),r=n("CcaC"),b=n("N2Qi"),d=n("3Pt+"),l=n("lJxs");let a=(()=>{class e{constructor(t){this.db=t,e.users$||(e.users$=this.db.collection("users").values())}transform(t){return e.users$.pipe(Object(l.a)(e=>e.find(e=>e.id===t)))}}return e.\u0275fac=function(t){return new(t||e)(s.Jb(c.c))},e.\u0275pipe=s.Ib({name:"mapUser",type:e,pure:!0}),e})();function u(e,t){if(1&e&&(s.Nb(0),s.sc(1," Assigned to "),s.Pb(2,"b"),s.sc(3),s.Ob(),s.Kb(4,"br"),s.Mb()),2&e){const e=t.ngIf;s.zb(3),s.tc(e.username)}}function f(e,t){if(1&e){const e=s.Qb();s.Nb(0),s.Pb(1,"m4-slider",14),s.Xb("ngModelChange",(function(t){return s.jc(e),s.Zb(2).$implicit.progress=t}))("ngModelChange",(function(){s.jc(e);const t=s.Zb(2).$implicit;return s.Zb().updateTodoItem(t)})),s.Ob(),s.Mb()}if(2&e){const e=s.Zb(2).$implicit;s.zb(1),s.fc("ngModel",e.progress)("max",100)("min",0)}}function p(e,t){if(1&e&&(s.Pb(0,"div",15),s.Kb(1,"m4-progress",16),s.Ob()),2&e){const e=s.Zb(2).$implicit;s.zb(1),s.fc("value",e.progress)}}function m(e,t){if(1&e&&(s.Nb(0),s.qc(1,f,2,3,"ng-container",12),s.qc(2,p,2,1,"ng-template",null,13,s.rc),s.Mb()),2&e){const e=t.ngIf,n=s.ic(3),o=s.Zb().$implicit;s.zb(1),s.fc("ngIf",o.assignedToId===e.id)("ngIfElse",n)}}function g(e,t){if(1&e&&(s.Pb(0,"div",5),s.Pb(1,"div",6),s.Pb(2,"div",7),s.sc(3),s.Ob(),s.Pb(4,"div",8),s.Pb(5,"p"),s.sc(6),s.Kb(7,"br"),s.sc(8),s.ac(9,"date"),s.Kb(10,"br"),s.qc(11,u,5,1,"ng-container",9),s.ac(12,"async"),s.ac(13,"mapUser"),s.Ob(),s.Ob(),s.Pb(14,"div",10),s.Pb(15,"div",11),s.Pb(16,"div",2),s.sc(17," Progress "),s.qc(18,m,4,2,"ng-container",9),s.ac(19,"async"),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob()),2&e){const e=t.$implicit,n=s.Zb();s.zb(3),s.tc(e.title),s.zb(3),s.uc(" Description: ",e.description,""),s.zb(2),s.uc(" Due date: ",s.bc(9,5,e.dueDate),""),s.zb(3),s.fc("ngIf",s.bc(12,7,s.bc(13,9,e.assignedToId))),s.zb(7),s.fc("ngIf",s.bc(19,11,n.userService.currentUser$))}}let v=(()=>{class e{constructor(e,t){this.db=e,this.userService=t,this.todoCollection=this.db.collection("todoItems"),this.todoItems$=this.todoCollection.values()}ngOnInit(){}updateTodoItem(e){this.todoCollection.update(e)}}return e.\u0275fac=function(t){return new(t||e)(s.Jb(c.c),s.Jb(r.a))},e.\u0275cmp=s.Db({type:e,selectors:[["app-list"]],decls:9,vars:3,consts:[[1,"row"],["class","cell-md-3",4,"ngFor","ngForOf"],[1,"cell-12"],["m4-button","","btn-style","success","routerLink","../add"],[1,"mif-plus"],[1,"cell-md-3"],[1,"card"],[1,"card-header","text-bold","bg-blue","fg-white"],[1,"card-content","p-2"],[4,"ngIf"],[1,"card-footer"],[1,"row","w-100"],[4,"ngIf","ngIfElse"],["noEditPossible",""],[3,"ngModel","max","min","ngModelChange"],[1,"mt-3","mb-3"],[3,"value"]],template:function(e,t){1&e&&(s.Pb(0,"h1"),s.sc(1,"Todo items"),s.Ob(),s.Pb(2,"div",0),s.qc(3,g,20,13,"div",1),s.ac(4,"async"),s.Pb(5,"div",2),s.Pb(6,"button",3),s.Kb(7,"span",4),s.sc(8," Add todo item"),s.Ob(),s.Ob(),s.Ob()),2&e&&(s.zb(3),s.fc("ngForOf",s.bc(4,1,t.todoItems$)))},directives:[o.k,b.a,i.c,o.l,b.g,d.i,d.k,b.e],pipes:[o.b,o.e,a],styles:[""]}),e})();var h=n("wd/R");function O(e,t){if(1&e&&(s.Pb(0,"option",10),s.sc(1),s.Ob()),2&e){const e=t.$implicit;s.fc("value",e.id),s.zb(1),s.tc(e.username)}}function P(e,t){if(1&e&&(s.Pb(0,"m4-select",8),s.qc(1,O,2,2,"option",9),s.Ob()),2&e){const e=t.ngIf;s.zb(1),s.fc("ngForOf",e)}}const I=[{path:"list",component:v},{path:"add",component:(()=>{class e{constructor(e,t){this.db=e,this.router=t,this.form=new d.e({title:new d.b(void 0,[d.n.required]),description:new d.b(void 0),assignedToId:new d.b(void 0,[d.n.required]),dueDate:new d.b(h(),[d.n.required])}),this.users$=this.db.collection("users").values()}ngOnInit(){}save(){const e=this.form.value;this.db.collection("todoItems").add(e).subscribe(e=>{if(e.results[0].error)return void alert("Error");const t=e.results[0].validationResults;if(t){const e=Object.keys(t).map(e=>[e,t[e]]).map(([e,t])=>`${e}: ${t.join(",")}`).join(",\n");alert(e)}else this.router.navigateByUrl("/todo/list")})}}return e.\u0275fac=function(t){return new(t||e)(s.Jb(c.c),s.Jb(i.b))},e.\u0275cmp=s.Db({type:e,selectors:[["app-add"]],decls:15,vars:5,consts:[[1,"row",3,"formGroup"],[1,"cell-12","pb-2"],["prepend","Title","formControlName","title"],["prepend","Description","formControlName","description"],["prepend","Assigned to","formControlName","assignedToId",4,"ngIf"],["formControlName","dueDate"],[1,"cell-12"],["m4-button","","btn-style","success",3,"disabled","click"],["prepend","Assigned to","formControlName","assignedToId"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(s.Pb(0,"h1"),s.sc(1,"Add todo item"),s.Ob(),s.Pb(2,"div",0),s.Pb(3,"div",1),s.Kb(4,"m4-input",2),s.Ob(),s.Pb(5,"div",1),s.Kb(6,"m4-textarea",3),s.Ob(),s.Pb(7,"div",1),s.qc(8,P,2,1,"m4-select",4),s.ac(9,"async"),s.Ob(),s.Pb(10,"div",1),s.Kb(11,"m4-date-picker",5),s.Ob(),s.Pb(12,"div",6),s.Pb(13,"button",7),s.Xb("click",(function(){return t.save()})),s.sc(14,"Create"),s.Ob(),s.Ob(),s.Ob()),2&e&&(s.zb(2),s.fc("formGroup",t.form),s.zb(6),s.fc("ngIf",s.bc(9,3,t.users$)),s.zb(5),s.fc("disabled",t.form.invalid||t.form.pristine))},directives:[d.j,d.f,b.c,d.i,d.d,b.h,o.l,b.b,b.a,b.f,o.k,d.l,d.o],pipes:[o.b],styles:[""]}),e})()},{path:"**",pathMatch:"full",redirectTo:"list"}];let w=(()=>{class e{}return e.\u0275mod=s.Hb({type:e}),e.\u0275inj=s.Gb({factory:function(t){return new(t||e)},imports:[[i.e.forChild(I)],i.e]}),e})(),y=(()=>{class e{}return e.\u0275mod=s.Hb({type:e}),e.\u0275inj=s.Gb({factory:function(t){return new(t||e)},imports:[[o.c,w,b.d]]}),e})()}}]);